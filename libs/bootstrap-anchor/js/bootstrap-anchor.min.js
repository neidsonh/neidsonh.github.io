+function(t,n){"use strict";var o=t.fn.tooltip&&t.fn.tooltip.Constructor,i=function(){this.$anchor=null,this.$container=null,this.$delegates=null,this.dom=null,this.enabled=null,this.link=null,this.id=null,this.originalId=null,this.scrollTop=null,this.scrolling=null,this.init.apply(this,arguments)};if(i.VERSION="0.0.1",i.checkVersion=function(t,n){if(!t)return!1;var o,i=t.split("."),e=n.split(".");for(o=0;o<i.length;++o)i[o]=Number(i[o]);for(o=0;o<e.length;++o)e[o]=Number(e[o]);return i[0]>e[0]||!(i[0]<e[0])&&(i[1]>e[1]||!(i[1]<e[1])&&(i[2]>e[2]||i[2]>=e[2]))},!o||!i.checkVersion(o.VERSION,"3.3.4"))throw new Error("Bootstrap Anchor requires the Bootstrap tooltip.js plugin, version 3.3.4 or greater.");i.proxy=function(t,n){return n=n||o,function(){n.prototype[t].apply(this.getInstance.apply(this,arguments),arguments)}},i.DEFAULTS=t.extend({},o.DEFAULTS,{anchors:"h1,h2,h3,h4,[data-anchor]",anchorContainer:!0,anchorDuration:300,anchorFindNamed:!1,anchorGenerateId:!0,anchorHistory:"append",anchorIcon:'<span class="glyphicon glyphicon-link" aria-hidden="true"></span>',anchorIgnore:'[data-anchor-ignore]:not([data-anchor-ignore="false"]),[data-dismiss],[data-slide],[data-toggle]:not([data-toggle="anchor"])',anchorLinks:'a[href*="#"],[data-toggle="anchor"]',anchorNormalizeId:{separator:"-",convertCamel:!0,convertCase:"lower",convert:/[\s_.(){}\[\]]/g,strip:/[^\w-]/gi,singleSeparator:!0,trim:!0,maxLength:32},anchorPrefixId:!1,anchorUniqueId:!0,anchorOffset:20,anchorTarget:!1,scrollOnHashchange:!0,scrollOnLoad:!0,placement:"auto left",scrollableElement:"html,body",template:'<span class="anchor-link text-primary" role="tooltip"><a href="#"></a></span>',trigger:{anchors:"hover focus",links:"click"},viewport:{selector:"body",padding:0}}),i.prototype=t.extend({},o.prototype);for(var e=["enter","leave","hide","show","toggle"],r=0,s=e.length;r<s;r++)i.prototype[e[r]]=i.proxy(e[r]);i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(o,i){var e=this.$element.data()||null,r=this.getDefaults();i=i&&!this.dom&&{anchors:i}||null;var s=!this.dom&&r.anchorContainer;if(e&&e.anchorContainer!==n?s=e.anchorContainer||null:o&&o.anchorContainer!==n&&(s=o.anchorContainer||null),s){var a="string"==typeof s&&t(s);a&&a[0]||(a=this.$element.parent().closest("[data-anchor-container]")),s=a[0]&&a.data()||null}return(o=t.extend(!0,{},r,i,o,s,e))["bs.anchor"]&&delete o["bs.anchor"],o.delay&&"number"==typeof o.delay&&(o.delay={show:o.delay,hide:o.delay}),o},i.prototype.getPosition=function(t){return t||this.options.previousContainer?this.options.previousContainer&&(this.options.container=this.options.previousContainer,delete this.options.previousContainer):(this.options.previousContainer=this.options.container,this.options.container=this.$viewport),t||(t=this.getContainer()),o.prototype.getPosition.apply(this,[t])},i.prototype.hasContent=function(){return!!(!this.isLink()&&this.id&&this.$anchor&&this.$anchor.is(this.options.anchors)&&this.options.anchorIcon)},i.prototype.setContent=function(){var t=this;this.tip().removeClass("fade in").find("a").attr("href","#"+this.id).off("click.bs."+this.type).on("click.bs."+this.type,function(n){n.preventDefault(),n.stopPropagation(),t.scrollTo()}).html(this.options.anchorIcon)},i.prototype.init=function(n,o,i){if(null===this.enabled){var e=this;if(this.enabled=!0,this.type="anchor",this.dom=this.isDOM(n),this.$element=t(this.dom?document:n),this.options=this.getOptions(o,i),this.$anchor=this.getAnchor(),this.$delegates=!1,this.$scrollable=this.options.scrollableElement&&t(this.options.scrollableElement),this.link=this.isLink(),this.id=this.getID(),this.inState={click:!1,hover:!1,focus:!1},this.dom&&!this.options.anchors&&!this.options.anchorLinks)throw new Error("`anchors` or `anchorLinks` option must be specified when initializing "+this.type+" on any top level DOM object!");(this.dom||this.link)&&this.$element.trigger("init.bs."+this.type,this);var r=this.getExclude();if(this.dom||this.link||this.hasContent()){var s=e.dom||!r?e.$element:e.$element.not(r),a=this.getTriggers();for(var h in a)if(a.hasOwnProperty(h))for(var c=function(t){var n="anchors"===t?"> ."+e.type+"-wrapper":"",o="anchors"===t&&e.options.anchors||"links"===t&&e.options.anchorLinks||"";if(!e.dom)return n||null;return function(t){for(var n=o&&o.split(/\s*,\s*(?![^(]*\))/gi)||[],i=0,r=n.length;i<r;i++)n[i]=t.apply(e,[n[i],n]);return n.join(",")}(function(t){return t+":not("+r+")"+n})}(h),l="string"==typeof a[h]&&a[h].split(" ")||[],p=l.length;p--;){var d=l[p];"click"===d?"links"===h&&(this.dom||this.link)?s.on("click.bs."+this.type,c,t.proxy(function(t){var n=this.getInstance.apply(this,arguments);n.$anchor&&(t.preventDefault(),t.stopPropagation(),n.scrollTo())},this)):s.on("click.bs."+this.type,c,t.proxy(this.toggle,this)):"anchors"===h&&"manual"!==d&&(s.on(("hover"===d?"mouseenter":"focusin")+".bs."+this.type,c,t.proxy(this.enter,this)),s.on(("hover"===d?"mouseleave":"focusout")+".bs."+this.type,c,t.proxy(this.leave,this)))}}if(this.dom){var u=t(window);this._options=t.extend({},this.options,{trigger:"manual"}),u.on("scroll.bs."+this.type,function(){e.scrollTop=e.getPosition(e.$scrollable).scroll});var f=function(){if(e.enabled&&!e.scrolling){"complete"===document.readyState&&null!==e.scrollTop&&e.$scrollable.scrollTop(e.scrollTop);var n=window.location.hash.replace(/^#/,""),o=n&&document.getElementById(n)||n&&document.getElementsByName(n);o&&t(o).anchor("scrollTo")}};this.options.scrollOnLoad&&u.on("load.bs."+this.type,f),this.options.scrollOnHashchange&&u.on("hashchange.bs."+this.type,f),t.fn.scrollspy&&this.$element.on("change.bs.anchor",function(){"complete"===document.readyState&&t('[data-spy="scroll"]').scrollspy("refresh")}),t(function(){e.$delegates=t(e.options.anchors).not(r).anchor(e._options)})}else this.link||(this.id||(this.$anchor=!1),this.$anchor&&this.hasContent()&&(this.options.originalContainer=this.options.container,this.options.container=this.getContainer()))}},i.prototype.getAnchor=function(){if(null!==this.$anchor)return this.$anchor||!1;var n,o=this.$element[0];if(this.dom)return!1;if(this.options.anchorTarget)return(n=t(this.options.anchorTarget).first())[0]&&n||!1;if(this.isLink()){var i=o&&"A"===this.$element[0].nodeName&&o.host===window.location.host&&o.pathname===window.location.pathname&&o.search===window.location.search&&o.hash;return!(!(i=i&&i.replace(/^#/,"")||i)||!i.length)&&((n=t("#"+i+', a[name="'+i+'"]').first())[0]&&n||!1)}return o&&this.$element||!1},i.prototype.getContainer=function(){if(this.dom||this.link||!this.hasContent()||!this.$anchor)return this.$element;if(this.$container)return this.$container;if(this.$container=this.$anchor.find(">."+this.type+"-wrapper"),this.$container[0])return this.$container;var n=this.$anchor[0],o=document.createElement("span");for(o.className="anchor-wrapper";n.childNodes.length;)o.appendChild(n.removeChild(n.childNodes[0]));return n.insertBefore(o,n.firstChild),this.$container=t(o),this.$container},i.prototype.getInstance=function(n,o){if(n instanceof this.constructor)return n;(o=o||n instanceof jQuery.Event&&t(n.currentTarget))&&o.is("."+this.type+"-wrapper")&&(o=o.parent(),n.currentTarget&&(n.currentTarget=o[0]));var i=o&&o.data("bs."+this.type);return i||o||o[0]||this.dom?(!i&&o&&o[0]&&o.data("bs."+this.type,i=new this.constructor(o[0],this.getDelegateOptions())),i&&i.isLink()&&(i=i.getInstance.apply(i,[null,i.$anchor])),i||this):this.isLink()&&this.$anchor?this.getInstance.apply(this,[null,this.$anchor]):this},i.prototype.getExclude=function(){var t=this.options.anchorIgnore||!1;return t&&"function"==typeof t&&(t=this.options.anchorIgnore.call(this)),t&&"string"!=typeof this.options.anchorIgnore&&(t=!1),t},i.prototype.getID=function(t){if(this.dom||this.link)return this.id=this.originalId=!1;var n="function"==typeof this.options.id||"function"==typeof this.options.originalId;if(null!==this.id&&!n&&!t)return this.id;if(this.originalId="function"==typeof this.options.originalId&&this.options.originalId.call(this)||this.options.originalId||!1,this.id="function"==typeof this.options.id&&this.options.id.call(this)||this.options.id||this.originalId||!1,!this.id&&this.$anchor&&this.$anchor[0]){var o=this.$anchor[0],i=o&&o.id||o&&"A"===o.nodeName&&o.name;if(!i&&this.options.anchorFindNamed)for(var e,r=["next","prev","find"],s=r.length;s--;)if((e=this.$anchor[r[s]]("a[name]:empty"))[0]&&!i){i=e[0].id||e[0].name;break}i&&o.removeAttribute("id"),o&&"A"===o.nodeName&&o.name&&(o.name=""),this.id=this.originalId=i||!1,this.id||!this.options.anchorGenerateId||this.link||(this.id=o.textContent||o.innerText||!1,this.id&&(this.options.anchorNormalizeId&&(this.id=this.normalizeId(this.id)),this.options.anchorPrefixId&&(this.id=this.options.anchorPrefixId+"-"+this.id),this.options.anchorUniqueId&&(this.id=this.getUID(this.id)))),o.setAttribute("data-original-id",this.originalId.toString()),this.id&&o.setAttribute("id",this.id)&&o.setAttribute("data-id",this.id)}return this.id!==this.originalId&&this.$anchor&&this.$anchor.trigger("change.bs.anchor",this),this.id},i.prototype.getTop=function(){var n=this,o=n.getInstance.apply(n,arguments),i=function(){var n=0;return o.$scrollable.each(function(){n+=parseInt(t(this).css("margin-top"),10)||0,n+=parseInt(t(this).css("padding-top"),10)||0}),n},e="fixed"===o.$anchor.css("position")?o.$anchor[0].offsetTop:o.getPosition(o.$anchor).top;return"function"==typeof o.options.anchorOffset?e-=parseInt(o.options.anchorOffset.call(this,e),10)||0:void 0!==o.options.anchorOffset?(e-=i(),e-=parseInt(o.options.anchorOffset,10)||0):e-=i(),e<0?0:e},i.prototype.getTriggers=function(){var n=this.options.trigger||!1;return n&&"function"==typeof n&&(n=n.call(this)),n&&"string"==typeof n&&(n={anchors:n,links:n}),t.isPlainObject(n)||(n=!1),n},i.prototype.getUID=function(t){for(var n=0,o=""+t;document.getElementById(t);)t=o+"-"+ ++n;return t},i.prototype.isDOM=function(t,n){return n||null===this.dom?(t=t||this.$element&&this.$element[0])&&(t instanceof document.constructor||t instanceof window.constructor||t instanceof HTMLHtmlElement||t instanceof HTMLBodyElement):this.dom},i.prototype.isLink=function(t){if(this.dom)return!1;if(!t&&null!==this.link)return this.link;var n=this.getExclude();return this.options.anchorLinks&&n?this.$element.not(n).is(this.options.anchorLinks):this.$element.is(this.options.anchorLinks)},i.prototype.normalizeId=function(t){var n=this.options.anchorNormalizeId;if(!n||"object"!=typeof n)return t;var o=n.separator||"",i=o&&o.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")||"";return n.convertCamel&&(t=t.replace(/[A-Z]/g,function(t){return o+t})),n.convertCase&&(t="upper"===n.convertCase?t.toUpperCase():t.toLowerCase()),n.convert&&(t=t.replace(n.convert,o)),n.strip&&(t=t.replace(n.strip,"")),n.singleSeparator&&(t=t.replace(new RegExp(i+"+","g"),o)),n.trim&&(t=t.replace(new RegExp("^"+i+"*|"+i+"*$","g"),"")),n.maxLength&&(t=t.substring(0,n.maxLength)),t||!1},i.prototype.scrollTo=function(){var n=this,o=n.getInstance.apply(n,arguments);if(o.$anchor&&t.contains(document,o.$anchor[0])&&o.enabled&&!o.scrolling&&!n.scrolling&&!t.Event("scroll.bs."+o.type).isDefaultPrevented()){var i=o.getTop(),e=t.Deferred();e.then(function(){o.scrolling=n.scrolling=!0}).then(function(){return o.options.animation&&o.options.anchorDuration&&o.options.anchorDuration>0?o.$scrollable.stop(!0).animate({scrollTop:i},{anchorDuration:o.options.anchorDuration}).promise():o.$scrollable.scrollTop(i).promise()}).then(function(){return t.Deferred(function(n){var i=o.options.anchorHistory;if("function"==typeof i&&(i=i.call(o)||!1),!i||"append"!==i&&"replace"!==i)return n.resolve();var e=o.getID();o.$anchor.attr("id","");var r=t('<div id="'+e+'"></div>').css({position:"absolute",visibility:"hidden",top:o.getTop()+"px"}).appendTo(o.$viewport);"replace"===i&&window.history&&window.history.replaceState?window.history.replaceState(null,null,"#"+o.id):window.location.hash=e,r.remove(),o.$anchor.attr("id",e),setTimeout(function(){n.resolve()},10)})}).then(function(){o.scrolling=n.scrolling=!1,o.$anchor.trigger("focus.bs."+o.type),o.$anchor.trigger("scrolled.bs."+o.type)}),e.resolve()}},i.prototype.setOption=function(n,o){"object"==typeof n?this.options=t.extend(!0,{},this.options,n):this.options[n]=o};var a=t.fn.anchor;t.fn.anchor=function(o){var e,r=Array.prototype.slice.call(arguments,1),s=this.selector;return this.each(function(){var n=t(this),a=n.data("bs.anchor"),h="object"==typeof o&&o;a||n.data("bs.anchor",a=new i(this,h,s)),"string"==typeof o&&(e=a[o].apply(a,r))}),1===this.length&&e!==n?e:this},t.fn.anchor.Constructor=i,t.fn.anchor.noConflict=function(){return t.fn.anchor=a,this}}(jQuery);